import * as _genkit_ai_ai_retriever from '@genkit-ai/ai/retriever';
import { Part } from '@genkit-ai/ai/retriever';
import { EmbedderArgument } from '@genkit-ai/ai/embedder';
import { Firestore, QueryDocumentSnapshot } from 'firebase-admin/firestore';
import z__default from 'zod';

/**
 * Define a retriever that uses vector similarity search to retrieve documents from Firestore.
 * You must create a vector index on the associated field before you can perform nearest-neighbor
 * search.
 **/
declare function defineFirestoreRetriever(config: {
    /** The name of the retriever. */
    name: string;
    /** Optional label for display in Developer UI. */
    label?: string;
    /** The Firestore database instance from which to query. */
    firestore: Firestore;
    /** The name of the collection from which to query. */
    collection: string;
    /** The embedder to use with this retriever. */
    embedder: EmbedderArgument;
    /** The name of the field within the collection containing the vector data. */
    vectorField: string;
    /** The name of the field containing the document content you wish to return. */
    contentField: string | ((snap: QueryDocumentSnapshot) => Part[]);
    /** The distance measure to use when comparing vectors. Defaults to 'COSINE'. */
    distanceMeasure?: 'EUCLIDEAN' | 'COSINE' | 'DOT_PRODUCT';
    /**
     * A list of fields to include in the returned document metadata. If not supplied, all fields other
     * than the vector are included. Alternatively, provide a transform function to extract the desired
     * metadata fields from a snapshot.
     **/
    metadataFields?: string[] | ((snap: QueryDocumentSnapshot) => Record<string, any>);
}): _genkit_ai_ai_retriever.RetrieverAction<z__default.ZodObject<{
    where: z__default.ZodOptional<z__default.ZodRecord<z__default.ZodString, z__default.ZodAny>>;
    limit: z__default.ZodNumber;
}, "strip", z__default.ZodTypeAny, {
    limit: number;
    where?: Record<string, any> | undefined;
}, {
    limit: number;
    where?: Record<string, any> | undefined;
}>>;

export { defineFirestoreRetriever };
